@use '../style/functions' as fn;
@use '../style/mixins/bem';

// #variables
:root,
page {
  --sar-notice-bar-height: 40px;
  --sar-notice-bar-padding-x: 15px;
  --sar-notice-bar-padding-y: 10px;
  --sar-notice-bar-font-size: var(--sar-text-base);
  --sar-notice-bar-color: var(--sar-orange);
  --sar-notice-bar-bg: rgba(var(--sar-orange-rgb), 0.1);

  --sar-notice-bar-wrap-line-height: var(--sar-leading-normal);

  --sar-notice-bar-left-icon-gap: 5px;
  --sar-notice-bar-right-icon-gap: 5px;
}
// #endvariables

@include bem.bem(notice-bar) {
  @include bem.b() {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    align-items: center;
    height: var(--sar-notice-bar-height);
    padding: 0 var(--sar-notice-bar-padding-x);
    font-size: var(--sar-notice-bar-font-size);
    color: var(--sar-notice-bar-color);
    background-color: var(--sar-notice-bar-bg);
  }

  @include bem.m(wrap) {
    height: auto;
    padding-top: var(--sar-notice-bar-padding-y);
    padding-bottom: var(--sar-notice-bar-padding-y);
  }

  @include bem.m(linkable) {
    cursor: pointer;
  }

  @include bem.e(left-icon) {
    display: flex;
    margin-right: var(--sar-notice-bar-left-icon-gap);
  }

  @include bem.e(content) {
    flex: 1;
    display: flex;
    align-items: center;
    width: 0;
    height: 100%;
    overflow: hidden;
  }

  @include bem.e(wrapper) {
    display: inline-block;
    height: 100%;
    line-height: var(--sar-notice-bar-height);
    white-space: nowrap;

    @include bem.m(scroll-never) {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    @include bem.m(scrollable) {
      animation: #{fn.bem-ns(notice-bar-scroll)} linear both running;
    }

    @include bem.m(infinite) {
      animation: #{fn.bem-ns(notice-bar-scroll-infinite)} linear both running infinite;
    }

    @include bem.m(wrap) {
      display: block;
      white-space: normal;
      line-height: var(--sar-notice-bar-wrap-line-height);
    }
  }

  @include bem.e(right-icon) {
    display: flex;
    padding-left: var(--sar-notice-bar-right-icon-gap);
    cursor: pointer;
  }
}

@keyframes #{fn.bem-ns(notice-bar-scroll)} {
  100% {
    transform: translate3d(-100%, 0, 0);
  }
}

@keyframes #{fn.bem-ns(notice-bar-scroll-infinite)} {
  100% {
    transform: translate3d(-100%, 0, 0);
  }
}
