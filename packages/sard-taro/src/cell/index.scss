@use '../style/mixins/bem';
@use '../style/mixins/border';

// #variables
:root,
page {
  --sar-cell-group-border-color: var(--sar-border-color);

  --sar-cell-group-header-gap-x: 16px;
  --sar-cell-group-header-gap-y: 8px;

  --sar-cell-group-title-font-size: var(--sar-text-xs);
  --sar-cell-group-title-line-height: var(--sar-leading-snug);
  --sar-cell-group-title-color: var(--sar-tertiary-color);

  --sar-cell-group-footer-gap-x: 16px;
  --sar-cell-group-footer-gap-y: 8px;

  --sar-cell-group-label-font-size: var(--sar-text-xs);
  --sar-cell-group-label-line-height: var(--sar-leading-snug);
  --sar-cell-group-label-color: var(--sar-tertiary-color);

  --sar-cell-group-card-margin-x: 16px;
  --sar-cell-group-card-border-radius: var(--sar-rounded-lg);

  --sar-cell-bg: var(--sar-emphasis-bg);
  --sar-cell-min-height: 44px;
  --sar-cell-padding-x: 16px;
  --sar-cell-padding-y: 6px;

  --sar-cell-border-color: var(--sar-border-color);
  --sar-cell-active-bg: var(--sar-active-bg);
  --sar-cell-transition-duration: var(--sar-duration-fast);
  --sar-cell-disabled-opacity: var(--sar-disabled-opacity);

  --sar-cell-header-gap-right: 10px;

  --sar-cell-title-font-size: var(--sar-text-base);
  --sar-cell-title-line-height: var(--sar-line-height);

  --sar-cell-footer-margin-left: 8px;

  --sar-cell-value-gap-left: 10px;
  --sar-cell-value-font-size: var(--sar-text-base);
  --sar-cell-value-line-height: var(--sar-leading-normal);
  --sar-cell-value-color: var(--sar-tertiary-color);

  --sar-cell-label-font-size: var(--sar-text-xs);
  --sar-cell-label-line-height: var(--sar-leading-normal);
  --sar-cell-label-color: var(--sar-tertiary-color);

  --sar-cell-arrow-gap-left: 10px;
  --sar-cell-arrow-font-size: var(--sar-text-base);
  --sar-cell-arrow-color: var(--sar-tertiary-color);
}
// #endvariables

@include bem.bem(cell-group) {
  @include bem.b() {
    display: flex;
    flex-direction: column;
  }

  @include bem.e(header) {
    padding-right: var(--sar-cell-group-header-gap-x);
    padding-bottom: var(--sar-cell-group-header-gap-y);
    padding-left: var(--sar-cell-group-header-gap-x);
  }

  @include bem.e(title) {
    font-size: var(--sar-cell-group-title-font-size);
    line-height: var(--sar-cell-group-title-line-height);
    color: var(--sar-cell-group-title-color);
  }

  @include bem.e(body) {
    position: relative;
    display: flex;
    flex-direction: column;
    border-radius: inherit;

    @include border.border-vertical(var(--sar-cell-group-border-color)) {
      z-index: 1;
    }

    @include bem.m(card) {
      border-radius: var(--sar-cell-group-card-border-radius);

      &::before,
      &::after {
        display: none;
      }
    }

    @include bem.m(inlaid) {
      &::before,
      &::after {
        display: none;
      }
    }
  }

  @include bem.e(footer) {
    padding-top: var(--sar-cell-group-footer-gap-y);
    padding-right: var(--sar-cell-group-footer-gap-x);
    padding-left: var(--sar-cell-group-footer-gap-x);
  }

  @include bem.e(label) {
    font-size: var(--sar-cell-group-label-font-size);
    line-height: var(--sar-cell-group-label-line-height);
    color: var(--sar-cell-group-label-color);
  }

  @include bem.m(card) {
    margin-left: var(--sar-cell-group-card-margin-x);
    margin-right: var(--sar-cell-group-card-margin-x);
  }
}

@include bem.bem(cell) {
  @include bem.b() {
    position: relative;
    box-sizing: border-box;
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    padding-left: var(--sar-cell-padding-x);
    padding-right: var(--sar-cell-padding-x);
    background-color: var(--sar-cell-bg);
    transition: background-color var(--sar-cell-transition-duration);

    @include bem.m(first-card) {
      border-top-left-radius: var(--sar-cell-group-card-border-radius);
      border-top-right-radius: var(--sar-cell-group-card-border-radius);
    }

    @include bem.m(last-card) {
      border-bottom-left-radius: var(--sar-cell-group-card-border-radius);
      border-bottom-right-radius: var(--sar-cell-group-card-border-radius);
    }

    @include bem.m(clickable) {
      cursor: pointer;
      &:active {
        background-color: var(--sar-cell-active-bg);
      }
    }
  }

  @include bem.e(header) {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-grow: 0;
    padding-right: var(--sar-cell-header-gap-right);

    @include bem.m(inset-later) {
      @include border.border-top(var(--sar-cell-border-color));
    }
  }

  @include bem.e(content) {
    position: relative;
    box-sizing: border-box;
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    flex: auto;
    min-height: var(--sar-cell-min-height);
    padding-top: var(--sar-cell-padding-y);
    padding-bottom: var(--sar-cell-padding-y);
    overflow: hidden;

    @include bem.m(custom) {
      flex-direction: column;
      justify-content: center;
    }

    @include bem.m(later) {
      @include border.border-top(var(--sar-cell-border-color));
    }
  }

  @include bem.e(body, footer) {
    display: flex;
    flex-grow: 1;
    flex-shrink: 1;
    flex-basis: auto;
    width: auto;
    max-width: 100%;
    overflow: hidden;
  }

  @include bem.e(body) {
    flex-direction: column;
    justify-content: center;
  }

  @include bem.e(icon) {
    display: flex;
    align-items: center;
    flex: none;
  }

  @include bem.e(title) {
    font-size: var(--sar-cell-title-font-size);
    line-height: var(--sar-cell-title-line-height);
  }

  @include bem.e(label) {
    font-size: var(--sar-cell-label-font-size);
    line-height: var(--sar-cell-label-line-height);
    color: var(--sar-cell-label-color);
  }

  @include bem.e(footer) {
    flex-direction: row;
    justify-content: flex-end;
    align-items: center;
    margin-left: var(--sar-cell-footer-margin-left);
  }

  @include bem.e(value) {
    margin-left: var(--sar-cell-value-gap-left);
    font-size: var(--sar-cell-value-font-size);
    line-height: var(--sar-cell-value-line-height);
    color: var(--sar-cell-value-color);
    word-wrap: break-word;
    text-align: right;
  }

  @include bem.e(arrow) {
    margin-left: var(--sar-cell-arrow-gap-left);
    font-size: var(--sar-cell-arrow-font-size);
    color: var(--sar-cell-arrow-color);
  }
}
